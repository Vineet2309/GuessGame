<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create Account</title>
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Custom gradient background for a modern look */
        body {
            background: linear-gradient(135deg, #1f2937 0%, #0f172a 100%);
            font-family: 'Inter', sans-serif;
        }
        /* Style for the form container to give it a 3D effect */
        .form-card {
            backdrop-filter: blur(10px);
            background-color: rgba(51, 65, 85, 0.5); /* Semi-transparent slate background */
            border-top: 4px solid #3b82f6; /* Accent border */
            /* Adjusted shadow for better contrast on a dark background */
            box-shadow: 0 20px 40px -10px rgba(0, 0, 0, 0.8), 0 10px 10px -5px rgba(0, 0, 0, 0.4);
        }
    </style>
    <script>
        // Tailwind Configuration for custom colors
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'primary-blue': '#3b82f6',
                        'accent-green': '#10b981',
                        'danger-red': '#ef4444',
                    }
                }
            }
        }
    </script>
</head>
<body class="min-h-screen flex items-center justify-center p-4">

    <!-- Signup Card Container -->
    <div class="form-card w-full max-w-md mx-auto p-8 rounded-xl">
        
        <!-- Header -->
        <div class="text-center mb-8">
            <svg class="mx-auto h-12 w-12 text-primary-blue" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                <!-- User Plus Icon (Lucide-react inspired) -->
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7zM20 9V5m-2 2h4"/>
            </svg>
            <h2 class="mt-4 text-3xl font-extrabold text-white">
                Create Your Account
            </h2>
            <p class="mt-2 text-sm text-gray-300">
                Join us to start your adventure.
            </p>
        </div>

        <!-- Signup Form -->
        <form id="signup-form" class="space-y-6" onsubmit="handleSignup(event)">
            
            <!-- Email Field -->
            <div>
                <label for="email" class="block text-sm font-medium text-gray-200 mb-1">Email Address</label>
                <input id="email" name="email" type="email" autocomplete="email" required
                       class="w-full px-4 py-3 border border-gray-600 rounded-lg bg-gray-700 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary-blue transition duration-150"
                       placeholder="name@example.com">
            </div>

            <!-- Password Field -->
            <div>
                <label for="password" class="block text-sm font-medium text-gray-200 mb-1">Password</label>
                <input id="password" name="password" type="password" autocomplete="new-password" required
                       class="w-full px-4 py-3 border border-gray-600 rounded-lg bg-gray-700 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary-blue transition duration-150"
                       placeholder="Minimum 8 characters">
            </div>

            <!-- Submit Button -->
            <div>
                <button type="submit"
                        class="w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-lg text-lg font-semibold text-white bg-primary-blue hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-blue transition duration-150 ease-in-out transform hover:scale-[1.01]">
                    Sign Up
                </button>
            </div>
        </form>

        <!-- Footer/Message Area -->
        <div id="message-box" class="mt-6 text-center text-sm">
            <p class="text-gray-400">
                Don't have Account
                <a href="/" class="font-medium text-primary-blue hover:text-blue-400">
                    Sign up here
                </a>
            </p>
            <div id="status-message" class="mt-3 p-3 rounded-lg text-sm font-medium hidden"></div>
        </div>
    </div>

    <script>
        /**
         * Simple client-side validation and feedback for the signup form.
         * In a real application, this data would be sent to a backend server.
         */
        function handleSignup(event) {
            event.preventDefault(); // Prevent default form submission
            
            const form = event.target;
            
            const email = form.email.value.trim();
            const password = form.password.value;

            // Simple validation checks for password
            if (password.length < 8) {
                displayMessage('Password must be at least 8 characters.', 'bg-danger-red');
                return;
            }
            
            // Basic email format check
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (!emailRegex.test(email)) {
                displayMessage('Please enter a valid email address.', 'bg-danger-red');
                return;
            }
            Pdata={
                "email":`${email}`,
                "password":`${password}`
            }
            // Simulate a successful API call
            fetch('/login.html',{
                method:'POST',
                headers:{
                    'Content-Type':'application/json'
                },
                body:JSON.stringify(Pdata)
            }).then((res)=>{
                return res.json();
            }).then((data)=>{
                if(data.statuscode==200){
                    sessionStorage.setItem('username',`${data.username}`);
                    sessionStorage.setItem('islogged',`True`);
                    sessionStorage.setItem('email',`${data.email}`);
                    document.location.replace('/game.html')
                }else{
                    displayMessage("Wrong Credentials",'bg-danger-red')
                }
            })
            console.log('Attempting to sign up with:', { email, password: '*'.repeat(password.length) });
            displayMessage('Success! Account created for ' + email + '.', 'bg-accent-green');
            form.reset(); // Clear the form on success
        }

        /**
         * Displays a status message in the dedicated box.
         * @param {string} message The message text.
         * @param {string} bgColorClass The Tailwind background color class (e.g., 'bg-red-500', 'bg-green-500').
         */
        function displayMessage(message, bgColorClass) {
            const statusMessage = document.getElementById('status-message');
            
            // Remove existing color classes (using Tailwind classes defined in the script)
            statusMessage.classList.remove('bg-danger-red', 'bg-accent-green');
            
            // Add new color class
            statusMessage.classList.add(bgColorClass, 'text-white');
            
            statusMessage.innerText = message;
            statusMessage.classList.remove('hidden');

            // Hide the message after 5 seconds
            setTimeout(() => {
                statusMessage.classList.add('hidden');
            }, 5000);
        }
    </script>
</body>
</html>